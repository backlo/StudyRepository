# Chapter 11 - 파이프라인 아키텍처 스타일

## 토폴로지

파이프라인 아키텍처는 다수의 파이프와 필터로 구성된다. 

파이프와 필터는 특정한 방식으로 조정되며, 보통 필터 간 단방향 통신은 점대점 방식으로 구성한고 얼마든지 조합이 가능하다.

다음을 보자.

* 파이프
  * 파이프는 한 소스에서 입력을 받아 다른 소스로 출력을 내는, 필터 간 통신 채널
  *  파이프를 오가는 페이로드의 데이터는 어떤 포맷이라도 가능하지만, 아키텍트는 고성능에 유리한 적은 양의 데이터를 선호한다.
* 필터
  * 자기 완비형
  * 다른 필터와 독립적
  * 무상태성
  * 복합 태스크는 여러 필터를 이어 붙여 처리하면 됌
  * 필터 종류
    * 프로듀서
      * 프로세스의 시작점
      * 아웃바운드만 있어서 소스라고도 불림
    * 변환기
      * 입력을 받아 필요시 일부 또는 전체 데이터를 변환후, 그 결과를 아웃바운드 파이프로 전달
      * 맵이라고도 불림
    * 테스터
      * 입력을 받아 하나 이상의 기준에 대해 테스트를 하고 그 결과에 따라 필요시 결과를 생산
      * 리듀스라고도 불림
    * 컨슈머
      * 파이프라인 흐름의 종착점
      * 최종 결과를 데이터베이스에 저장하거나 인터페이스에 표시



## 예제

파이프라인 아키텍처는 단방향 처리 태스크에서 혼히 찾아볼 수 있다. 

예를 들면 다음과 같다.

* 전자 데이터 교환 도구
* ETL
* 오케스트레이터와 중재자

또한 파이프라인 아키텍처는 확장성을 잘 나타낼 수 있다.



## 아키텍처 특성 등급

| 아키텍처 특성 | 별점                           | 설명                                                         |
| ------------- | ------------------------------ | ------------------------------------------------------------ |
| 분할 유형     | 기술                           |                                                              |
| 퀀텀 수       | 1                              |                                                              |
| 배포성        | :star::star:                   | 평균수준의 모듈성으로 인해 배포성은 레이어드 아키텍처보다 좋음 |
| 탄력성        | :star:                         | 모놀로식이라 확장할 경우 대부분 멀티스레딩, 내부 메시징을 비롯해 병렬 처리 기법을 사용해야함 |
| 진화성        | :star:                         | 낮은 모듈성으로 진화성이 낮음                                |
| 내고장성      | :star:                         | 분산아키텍처가 아니여서 내고장성이 낮음                      |
| 모듈성        | :star::star:                   | 다양한 필터 타입과 변환기 간의 관심사를 분리함으로써 아키텍처 모듈성을 확보 |
| 전체 비용     | :star::star::star::star::star: | 분산 아키텍처가 아니라 비용이 좋음                           |
| 성능          | :star::star:                   | 기본적으로 병령처리가 안됌                                   |
| 신뢰성        | :star::star::star:             | 모놀로식에 가까워 레이어드 아키텍처러 비슷                   |
| 확장성        | :star:                         | 모놀로식이라 확장할 경우 대부분 멀티스레딩, 내부 메시징을 비롯해 병렬 처리 기법을 사용해야함 |
| 단순성        | :star::star::star::star::star: | 모놀로식에 가깝기 때문에 분산 아키텍처 수반되는 복잡성이 없음 |
| 시험성        | :star::star:                   | 평균수준의 모듈성으로 인해 시험성은 레이어드 아키텍처보다 좋음 |

