# Chapter 2 - 아키텍처 사고



아키텍처 사고는 아키텍처 관점에서 사물을 바라보는 것이다. 아키텍트의 사고방식은 크게 4가지로 나뉜다.

1. 아키텍처와 설계의 차이를 이해하고 아키텍처 작업을 진행하려면 개발팀과 어떻게 협력해야 할 지 아는 것
2. 어느 정도 기술 깊이를 유지하면서 폭넓은 기술 지식을 확보
3. 다양한 솔루션과 기술 간의 트레이드오프를 이해하고, 분석하고, 조율하는 것
4. 비즈니스 드라이버의 중요성을 이해하고 그것을 아키텍처 관심사로 해석할줄 아는 것



## 아키텍처 대 설계

아키텍트처럼 사고한다는 건 비즈니스와 기술 문제를 해결하기 위해 아키텍처와 설계의 차이점을 알고 이 둘을 긴밀하게 통합한 솔루션을 모색하는 것이다.

즉 아키텍트는 비즈니스 요구사항을 분석해서 특성을 도출/정의하고 어떤 아키텍처 패턴과 스타일이 해당 문제 영역에 가장 알맞는지 선택하여 각종 컴포넌트를 만드는 것이다.

**제대로 된 아키텍처를 만들려면 반드시 아키텍트와 개발자를 가르는 가상의 물리적 장벽을 허물고 두 팀이 양방향으로 소통하는 관계를 정립해야 한다.**



## 기술 폭

세상의 모든 지식을 표현한 지식 피리미드란 '내가 알고 있는것', '내가 모른다는 사실을 아는것', '내가 모른다는 사실조차 모르는 것' 이 세가지 피라미드 형태로 분류된다.

여기서 개발자는 내가 알고 있는 것의 대한 깊이를 계속 유지 (전문성) 해야하지만 아키텍트는 기술의 깊이 보다 기술의 폭이 더 중요하다. 즉 전문 영역에서 깊게 아는것 보다 넓게 다양한 영역을 아는게 더 중요하다.

아키텍트는 이러한 관점으로 나가야하는데, 나가면 나갈수록 아래와 같은 것들 때문에 역효과가 일어난다.

1. 아키텍트가 되어 다양한 분야에서 전문성을 유지하려고 하나, 어느 하나도 성공하지 못한 채 그러는 도중 지레 지친다.
2. 김빠진 전문성이 나타난다. ( 낡은 정보가 아직도 첨단을 달리고 있다고 생각한다. )



## 트레이드오프 분석

소프트웨어 아키텍처는 만사가 트레이드 오프(장점과 단점)를 갖고 있다. 그렇기 때문에 아키텍터 사고를 통해 이런 트레이드 오프를 분석하고 알맞은 솔루션으로 해결하는 것이다. 즉 여러 솔루션 중 택일하는 것은 언제나 비즈니스 드라이버, 환경, 다양한 팩터에 좌우된다.



## 비즈니스 드라이버의 이해

아키텍처 사고는 성공적인 시스템 구축에 필요한 비즈니스 드라이버를 이해하고 요구사항을 아키텍처 특성으로 해석하는 것이다.



## 아키텍처와 코딩 실무 간 균형 맞추기

코딩 실무와 소프트웨어 아키텍처의 균형을 맞추는 것은 어렵다. 그 이유는 모든 아키텍트가 코딩을 하면서 어느 정도의 기술 깊이를 유지할 수 있다고 믿지만 실상은 그렇지 않기 때문이다. 여기 몇가지 팁을 알려주려고 한다.

* 병목 트랩에 빠지지 말라 -> 크리티컬 패스와 프레임워크 코드는(임계 경고, 최장 경로 및 하부를 떠받치는 프레임 워크 코드) 다른 개발팀 사람에게 넘기고 비즈니스 기능을 코딩하는 작업에 집중해서 1~3회 이터레이션을 수행해라
  * 이렇게 하면 다음과 같은 긍정적인 효과가 있음
    1. 아키텍트는 더 이상 팀의 병목점이 되지 않고 프로덕션 코드를 실제로 작성하는 실무 경험을 쌓음
    2. 크리티컬 패스와 프레임워크 코드를 개발팀에 분산시키고 소유권을 부여함으로써 시스템에서 가장 어려운 부분을 더 잘 이해할 수 있음
    3. 아키텍트가 개발팀에서 작업 중인 비즈니스 연관 코드를 직접 작성함으로써 개발자들이 프로세스, 절차, 개발 환경, 어느 부분에서 가장 큰 고통을 겪을지 몸소 체험할 수 있음

아키텍트가 코딩 실무 능력을 유지하면서 일정 수준의 기술를 유지할 수 있는 방법은 다음과 같다.

1. 개념 증명을 자주 해본다. ( 소스 코드를 직접 작성해보면서 구현 상세를 생각하게 되므로 아키텍처 결정을 검증하는데 유용하다.)
2. 개발팀이 아주 중요한 유저 스토리 작업을 할 수 있도록 기술 부채 스토리나 아키텍처 스토리에 전념하는 것이다.
3. 이터레이션을 하면서 버그 잡은 일 역시 개발팀을 도우며 코딩 실무 능력을 유지하기에 좋은 방법이다.
4. 간단한 커맨드 라인 도구나 분석기를 만들어 개발팀의 일상 업무를 간소화, 자동화하는 것도 코딩 실무 능력을 유지할 수 있다.
5. 자주 코드 리뷰를 해본다.